var e={name:"InputRange",props:{min:{default:0},max:{default:33},value:{default:!1}},components:{},computed:{},data:function(){return{locked:!1,valor:0,listener:!1}},mounted:function(){var e=this;if(!1!==this.value){var n=(this.max-this.value)/(this.max-this.min)*100;this.$refs.handler.style.left=100-n+"%",this.valor=this.value}else this.$refs.handler.style.left="50%",this.valor=(this.max-this.value)/2;window.addEventListener("mouseup",(function(){if(e.$refs.center)try{e.$refs.center.removeEventListener("mousemove",e.$refs.center,!0)}catch(e){console.log(e)}})),window.addEventListener("touchend",(function(){if(e.$refs.center)try{e.$refs.center.removeEventListener("touchmove",e.$refs.center,!0)}catch(e){console.log(e)}})),setTimeout((function(){return e.$forceUpdate()}),1e3)},methods:{calculate:function(e){var n=e.offsetX/this.$refs.line.offsetWidth*100,t=parseFloat(this.min)-parseFloat(this.min)*(n/100),i=(n/100*this.max+t).toFixed(1);if(i>parseInt(this.max)||i<parseInt(this.min))return this.unlock();this.valor=i,this.$refs.handler.style.left=e.offsetX-15+"px"},lock:function(e){var n=this;"targetTouches"in e&&(e={offsetX:e.targetTouches[0].clientX-e.targetTouches[0].target.offsetLeft}),this.calculate(e),this.locked=!0,this.listener=this.$refs.center.addEventListener("mousemove",(function(e){n.locked&&(n.calculate(e),n.$emit("sliding",n.valor))})),this.listener=this.$refs.center.addEventListener("touchmove",(function(e){n.locked&&(n.calculate({offsetX:e.targetTouches[0].clientX-e.targetTouches[0].target.offsetLeft}),n.$emit("sliding",n.valor))}))},unlock:function(e){if(this.locked=!1,this.$emit("input",this.valor),this.$emit("change",this.valor),this.listener)try{this.$refs.center.removeEventListener("mousemove",this.$refs.center,!0),this.$refs.center.removeEventListener("touchmove",this.$refs.center,!0)}catch(e){console.log(e)}}},watch:{}};function n(e,n,t,i,o,s,r,a,l,c){"boolean"!=typeof r&&(l=a,a=r,r=!1);var A,d="function"==typeof t?t.options:t;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,o&&(d.functional=!0)),i&&(d._scopeId=i),s?(A=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(s)},d._ssrRegister=A):n&&(A=r?function(e){n.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){n.call(this,a(e))}),A)if(d.functional){var u=d.render;d.render=function(e,n){return A.call(n),u(e,n)}}else{var f=d.beforeCreate;d.beforeCreate=f?[].concat(f,A):[A]}return t}var t,i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function o(e){return function(e,n){return function(e,n){var o=i?n.media||"default":e,r=s[o]||(s[o]={ids:new Set,styles:[]});if(!r.ids.has(e)){r.ids.add(e);var a=n.source;if(n.map&&(a+="\n/*# sourceURL="+n.map.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",n.media&&r.element.setAttribute("media",n.media),void 0===t&&(t=document.head||document.getElementsByTagName("head")[0]),t.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(a),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{var l=r.ids.size-1,c=document.createTextNode(a),A=r.element.childNodes;A[l]&&r.element.removeChild(A[l]),A.length?r.element.insertBefore(c,A[l]):r.element.appendChild(c)}}}(e,n)}}var s={};var r=e,a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"input-range"},[t("div",{staticClass:"left"},[t("span",{staticClass:"min"},[e._v("\n            "+e._s(e.min)),e._t("min",(function(){return[t("span",[e._v("KM")])]}))],2)]),e._v(" "),t("div",{ref:"center",staticClass:"center",on:{mouseout:e.unlock,mousedown:function(n){return e.lock(n)},mouseup:function(n){return e.unlock(n)}}},[t("div",{ref:"line",staticClass:"line"},[t("div",{ref:"handler",staticClass:"handler"})]),e._v(" "),t("div",{staticClass:"value"},[e._v("\n            "+e._s(e.valor)),e._t("value",(function(){return[t("span",[e._v("KM")])]}))],2)]),e._v(" "),t("div",{staticClass:"right"},[t("span",{staticClass:"max"},[e._v("\n            "+e._s(e.max)),e._t("max",(function(){return[t("span",[e._v("KM")])]}))],2)])])};a._withStripped=!0;var l=n({render:a,staticRenderFns:[]},(function(e){e&&e("data-v-92ec2d04_0",{source:".input-range[data-v-92ec2d04] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 31px;\n  user-select: none;\n  margin-bottom: 40px;\n  font-family: sans-serif;\n}\n.input-range .left .min[data-v-92ec2d04] {\n  color: #000;\n  font-size: 25px;\n}\n.input-range .center[data-v-92ec2d04] {\n  width: 100%;\n  position: relative;\n  margin: 0 30px;\n  height: 31px;\n  display: flex;\n  align-items: center;\n}\n.input-range .center[data-v-92ec2d04]:before {\n  content: '';\n  display: block;\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 31px;\n  width: 100%;\n  z-index: 9;\n  cursor: pointer;\n}\n.input-range .center .line[data-v-92ec2d04] {\n  border: 1px solid #fe043c;\n  border-radius: 0.720000028610229px;\n  height: 2px;\n  background: #fe043c;\n  position: relative;\n  width: 100%;\n}\n.input-range .center .line .handler[data-v-92ec2d04] {\n  position: absolute;\n  left: 50%;\n  top: -15.5px;\n  width: 27px;\n  height: 27px;\n  border: 2px solid #fe043c;\n  border-radius: 50px;\n  background: #fe043c;\n  cursor: pointer;\n  user-select: none;\n}\n.input-range .center .value[data-v-92ec2d04] {\n  position: absolute;\n  top: 35px;\n  left: 0;\n  text-align: center;\n  width: 100%;\n  color: #fe043c;\n  font-size: 22px;\n}\n.input-range .right .max[data-v-92ec2d04] {\n  color: #000;\n  font-size: 25px;\n}\n",map:{version:3,sources:["/home/webprodutora/ersolucoesweb.com.br/input-range/src/InputRange.vue","InputRange.vue"],names:[],mappings:"AA4LA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,WAAA;EACA,YAAA;EACA,iBAAA;EACA,mBAAA;EACA,uBAAA;AC3LA;AD6LA;EACA,WAAA;EACA,eAAA;AC3LA;AD+LA;EACA,WAAA;EACA,kBAAA;EACA,cAAA;EACA,YAAA;EACA,aAAA;EACA,mBAAA;AC7LA;AD8LA;EACA,WAAA;EACA,cAAA;EACA,kBAAA;EACA,OAAA;EACA,MAAA;EACA,YAAA;EACA,WAAA;EACA,UAAA;EACA,eAAA;AC5LA;AD8LA;EACA,yBAAA;EACA,kCAAA;EACA,WAAA;EACA,mBAAA;EACA,kBAAA;EACA,WAAA;AC5LA;AD6LA;EACA,kBAAA;EACA,SAAA;EACA,YAAA;EACA,WAAA;EACA,YAAA;EACA,yBAAA;EACA,mBAAA;EACA,mBAAA;EACA,eAAA;EACA,iBAAA;AC3LA;AD+LA;EACA,kBAAA;EACA,SAAA;EACA,OAAA;EACA,kBAAA;EACA,WAAA;EACA,cAAA;EACA,eAAA;AC7LA;ADkMA;EACA,WAAA;EACA,eAAA;AChMA",file:"InputRange.vue",sourcesContent:['<template>\n<div class="input-range">\n    <div class="left">\n        <span class="min">\n            {{min}}<slot name="min"><span>KM</span></slot>\n        </span>\n    </div>\n    <div @mouseout="unlock" ref="center" class="center" @mousedown="lock($event)" @mouseup="unlock($event)">\n        <div ref="line" class="line">\n            <div ref="handler" class="handler"></div>\n        </div>\n        <div class="value">\n            {{valor}}<slot name="value"><span>KM</span></slot>\n        </div>\n    </div>\n    <div class="right">\n        <span class="max">\n            {{max}}<slot name="max"><span>KM</span></slot>\n        </span>\n    </div>\n</div>\n</template>\n\n<script>\n/**\n * Created at 2021-09-26 19:32:14\n */\nexport default {\n  name: \'InputRange\',\n  props: {\n      min: {\n          default: 0\n      },\n      max: {\n          default: 33\n      },\n      value: {\n          default: false\n      }\n  },\n  components: {},\n  computed: {},\n  data() {\n    return {\n        locked: false,\n        valor: 0,\n        listener: false\n    }\n  },\n  mounted() {\n      /**\n       * Se o valor não for boleano\n       * inicia o calculo da posição do ponteiro\n       */\n      if(this.value !== false) {\n          /**\n           * Posição inicial do ponteiro quendo é definido\n           * o atributo VALUE nas propriedades do componente\n           * (diferença entre max e value) / (diferença max e min) * 100\n           * para descobrir a porcentagem do valor inicial em relação ao valor max\n           */\n          let valor = (((this.max - this.value) / (this.max - this.min)) * 100)\n\n          /**\n           * Define a posição X do ponteiro\n           */\n          this.$refs.handler.style.left = `${100 - valor}%`\n\n          /**\n           * Define o valor em unidades\n           */\n          this.valor = this.value\n      }\n      else {\n          /**\n           * Caso não tenha valor inicial definido\n           * inicia o ponteiro a 50% do valor máximo\n           */\n          this.$refs.handler.style.left = `50%`\n          this.valor = ((this.max - this.value) / 2)\n      }\n\n      /**\n       * Monitora o evento mouseup par finalizar o arraste do ponteiro\n       * independente de onde o mouse seja solto\n       */\n        window.addEventListener(\'mouseup\', () => {\n            /**\n             * Verifica se a referencia existe\n             */\n            if(this.$refs.center) {\n              try {\n                  /**\n                   * Remove o event listener\n                   */\n                this.$refs.center.removeEventListener(\'mousemove\', this.$refs.center, true)\n              } catch(e) {\n                  console.log(e)\n              }\n            }\n        })\n        window.addEventListener(\'touchend\', () => {\n            /**\n             * Verifica se a referencia existe\n             */\n            if(this.$refs.center) {\n              try {\n                  /**\n                   * Remove o event listener\n                   */\n                this.$refs.center.removeEventListener(\'touchmove\', this.$refs.center, true)\n              } catch(e) {\n                  console.log(e)\n              }\n            }\n        })\n        setTimeout(() => this.$forceUpdate(), 1000)\n  },\n  methods: {\n      calculate(e) {\n          /**\n           * Percentual proporcional do eixo X do mouse\n           * em relação a largura do componente\n           */\n          let percent = (e.offsetX / this.$refs.line.offsetWidth) * 100\n\n          /**\n           * Diferença percentual no valor mínimo em relação\n           * ao eixo X do mouse\n           */\n          let min = parseFloat(this.min) - (parseFloat(this.min) * (percent / 100))\n\n          /**\n           * Baseado no percentual do eixo X do mouse\n           * calculamos o valor atual baseado no valor máximo\n           */\n          let valor = (((percent / 100) * this.max) + min).toFixed(1)\n\n          \n          if(valor > parseInt(this.max) || valor < parseInt(this.min)) {\n             return this.unlock()\n          }\n          this.valor = valor\n          this.$refs.handler.style.left = `${e.offsetX-15}px`\n      },\n      /* eslint-disable */\n      lock(e) {\n            if(\'targetTouches\' in e) {\n                e = {offsetX: e.targetTouches[0].clientX - e.targetTouches[0].target.offsetLeft}\n            }\n        //   console.log(\'Lock: \', e)\n          this.calculate(e)\n          this.locked = true\n          this.listener =  this.$refs.center.addEventListener(\'mousemove\', e => {\n            if(this.locked) {\n                this.calculate(e)\n                this.$emit(\'sliding\', this.valor)\n            }\n          })\n          this.listener =  this.$refs.center.addEventListener(\'touchmove\', e => {\n            if(this.locked) {\n                this.calculate({offsetX: e.targetTouches[0].clientX - e.targetTouches[0].target.offsetLeft})\n                this.$emit(\'sliding\', this.valor)\n            }\n          })\n      },\n      /* eslint-disable */\n      unlock(e) {\n        //   console.log(\'Unlock: \', e)\n          this.locked = false\n        this.$emit(\'input\', this.valor)\n        this.$emit(\'change\', this.valor)\n          if(this.listener) {\n              try {\n                this.$refs.center.removeEventListener(\'mousemove\', this.$refs.center, true)\n                this.$refs.center.removeEventListener(\'touchmove\', this.$refs.center, true)\n              } catch(e) {\n                  console.log(e)\n              }\n          }\n      }\n    },\n  watch: {\n  }\n}\n<\/script>\n\n<style lang="stylus" scoped>\n.input-range {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 100%;\n\theight: 31px;\n    user-select: none;\n    margin-bottom: 40px;\n    font-family: sans-serif;\n\t.left {\n\t\t.min {\n\t\t\tcolor: #000;\n\t\t\tfont-size: 25px;\n\t\t}\n\t}\n\n\t.center {\n\t\twidth: 100%;\n\t\tposition: relative;\n\t\tmargin: 0 30px;\n        height: 31px;\n        display: flex;\n        align-items: center;\n        &:before {\n            content: \'\';\n            display: block;\n            position: absolute;\n            left: 0;\n            top: 0;\n            height: 31px;\n            width: 100%;\n            z-index: 9;\n            cursor: pointer;\n        }\n\t\t.line {\n\t\t\tborder: 1px solid #fe043c;\n\t\t\tborder-radius: 0.7200000286102295px;\n\t\t\theight: 2px;\n\t\t\tbackground: #fe043c;\n\t\t\tposition: relative;\n            width: 100%;\n\t\t\t.handler {\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 50%;\n\t\t\t\ttop: -15.5px;\n\t\t\t\twidth: 27px;\n\t\t\t\theight: 27px;\n\t\t\t\tborder: 2px solid #fe043c;\n\t\t\t\tborder-radius: 50px;\n\t\t\t\tbackground: #fe043c;\n\t\t\t\tcursor: pointer;\n                user-select: none;\n\t\t\t}\n\t\t}\n\n\t\t.value {\n\t\t\tposition: absolute;\n\t\t\ttop: 35px;\n\t\t\tleft: 0;\n\t\t\ttext-align: center;\n\t\t\twidth: 100%;\n\t\t\tcolor: #fe043c;\n\t\t\tfont-size: 22px;\n\t\t}\n\t}\n\n\t.right {\n\t\t.max {\n\t\t\tcolor: #000;\n\t\t\tfont-size: 25px;\n\t\t}\n\t}\n}\n\n</style>',".input-range {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 31px;\n  user-select: none;\n  margin-bottom: 40px;\n  font-family: sans-serif;\n}\n.input-range .left .min {\n  color: #000;\n  font-size: 25px;\n}\n.input-range .center {\n  width: 100%;\n  position: relative;\n  margin: 0 30px;\n  height: 31px;\n  display: flex;\n  align-items: center;\n}\n.input-range .center:before {\n  content: '';\n  display: block;\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 31px;\n  width: 100%;\n  z-index: 9;\n  cursor: pointer;\n}\n.input-range .center .line {\n  border: 1px solid #fe043c;\n  border-radius: 0.720000028610229px;\n  height: 2px;\n  background: #fe043c;\n  position: relative;\n  width: 100%;\n}\n.input-range .center .line .handler {\n  position: absolute;\n  left: 50%;\n  top: -15.5px;\n  width: 27px;\n  height: 27px;\n  border: 2px solid #fe043c;\n  border-radius: 50px;\n  background: #fe043c;\n  cursor: pointer;\n  user-select: none;\n}\n.input-range .center .value {\n  position: absolute;\n  top: 35px;\n  left: 0;\n  text-align: center;\n  width: 100%;\n  color: #fe043c;\n  font-size: 22px;\n}\n.input-range .right .max {\n  color: #000;\n  font-size: 25px;\n}\n"]},media:void 0})}),r,"data-v-92ec2d04",false,undefined,!1,o,void 0,void 0);function c(e){c.installed||(c.installed=!0,e.component("InputRange",l))}var A={install:c},d=null;"undefined"!=typeof window?d=window.Vue:"undefined"!=typeof global&&(d=global.Vue),d&&d.use(A);export default l;export{c as install};
